<%-include('head/head')%>
<script>
  function registerEvents(e){
    //console.log(e);
    document.getElementById("contact").addEventListener('submit',function (ev){
      
        let fd=new FormData(document.getElementById("contact"));
        let xhr=new XMLHttpRequest();
        xhr.open('POST','contact_me',true);
        
        xhr.onload=function(){
          if (JSON.parse(xhr.response).message==='success') {
                      
            alert(JSON.parse(xhr.response).message);
          }
              else {
                  alert(JSON.parse(xhr.response).message);
              }
        }
        xhr.send(fd);
        document.getElementById("contact").reset();
        ev.preventDefault();
        
      }
      );
  }
  
  
  window.addEventListener('load',(event)=>registerEvents(event));
  </script>

  <div class="row">
    <div class="nav">
      <div class="msg">
          <a href="/">首页</a>
         
          <a href="productandservice">产品与服务</a>
          <a href="news">新闻动态</a>

          
          <a href="contacts">联系我们</a>
      </div>
      
    </div>
    <a href="manage/index" style="position: fixed;right: 0; top: 0; color: white;" class="manager" target="blank">
      后台
    </a>
    <!-- 联系我们 -->
    <div class="leftcolumn">

    </div>
    <div class="middlecolumn">
      <div>
          <h2>联系我们</h2>
          <div>
              <div>
                  <form id="contact">
                      <div>
                          <label for="name">姓名</label>
                          <input type="text" name="name" placeholder="请输入您的姓名" class="input-field" required>
                      </div>
                      <div class="mb-4">
                          <label for="email">邮箱</label>
                          <input type="email" name="email" placeholder="请输入您的邮箱" class="input-field" required>
                      </div>
                      <div class="mb-4">
                          <label for="message">留言</label>
                          <textarea name="message" rows="10" placeholder="请输入您的留言" class="input-field"></textarea>
                      </div>
                      <button id="submit" class="btn btn-3d">提交</button>
                  </form>
              </div>
              
          </div>
      </div>
    </div>
      

  <div class="rightcolumn">
    
</div>

 </div>

<%-include('foot/foot.ejs')%>
</body>


<style>
  .nav {
    position:fixed;
    left:0;
    top:0;
    right: 0;
    background-color: #3e2d23;
  }

  .nav .msg {
    display: flex;
    justify-content:space-around;
  }

  .row .nav .msg a {
    font-style: italic;
    font-size: large;
    color: white;
    margin: 10px;
  }

  .btn {
  padding: 12px 24px;
  border: 1px solid red;
  border-radius: 8px;
  cursor: pointer;
  font-size: 16px;
  transition: all 0.3s ease;
  margin: 10px;
  width: 200px;
  }
  
  .btn-3d: {
  background: #f44336;
  color: #aa4336;
  border-bottom: 40px solid #d32f2f;
  text-shadow: 0 1px 1px rgba(0,0,0,0.3);
  border-shadow: 0 5px 5px rgba(115,115,115,0.3);
  }
  
  .btn-3d:hover {
  transform : translateY(3px);
  
  }
  
  .input-field {
  padding: 12px 15px;
  border: 2px solid #ddd;
  border-radius: 8px;
  font-size: 16px;
  transition: all 0.3s ease;
  background: #fff;
  width: 80%;
  }
  
  /* 创建两个不相等的彼此并排的浮动列 */
  /* 左列 */
  .leftcolumn {
    width: 33%;
    background-color: #f1f1f1;
    padding-left: 5px;
  }

  .middlecolumn {
    width: 33%;
   
  }

  /* 右列 */
  .rightcolumn {
    flex-grow: 1;

    background-color: #f1f1f1;
    padding-left: 5px;
  }

  /* 伪图像 */
  .fakeimg {
    background-color: #f1f1f1;
    width: 100%;
    padding: 2px;
  }

  /* 为文章添加卡片效果 */
  .card {
    background-color: white;
    padding: 10px;
    margin-top: 10px;
  }

  .row {
    display: flex;
  
  }

  
  /* 响应式布局 - 当屏幕的宽度小于 800 像素时，使两列堆叠而不是并排 */
  @media screen and (max-width: 800px) {

    .leftcolumn,
    .rightcolumn {
      width: 100%;
      padding: 0;
    }

    img {
      width: 100%;
      height: 200px;
      object-fit: fill;
    }

    .row {
      display: flex;
      flex-direction: column;
    }


    .leftcolumn {
    width: 1%;
    background-color: #f1f1f1;
    padding-left: 5px;
  }

  .middlecolumn {
    width: 98%;
   
  }

  /* 右列 */
  .rightcolumn {
    flex-grow: 1;

    background-color: #f1f1f1;
    padding-left: 5px;
  }

  .manager {
    display: none;
  }

  }


</style>

</html>